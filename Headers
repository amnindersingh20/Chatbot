You: Fertility Medication Benefits annual deductible
INFO:botocore.tokens:Loading cached SSO token for Amninder-sso
INFO:langchain_aws.llms.bedrock:Using Bedrock Invoke API to generate response
üëâ Fresh question (no rewrite)
ü§ñ No KB retrieval ‚Äì pure LLM response

üí¨ Claude: Based on the information provided in the document, here are the key details about the annual deductible for Fertility Medication Benefits:

For Option 1:
- There is no annual deductible for Fertility Medication Benefits.

For Option 2 and Option 3:
- The annual deductible applies before copayments for Fertility Medications.
- The annual deductible is combined with Medical, Mental Health/Substance Use Disorder, Prescription Drug and CarePlus benefits.
- The specific deductible amounts are not provided in the excerpts, but it states to "See the 'Benefits at a Glance' table in the medical and MH/SUD coverage section for amounts."    

So in summary:
- No deductible for Option 1
- Annual deductible applies for Options 2 and 3, but the specific amounts are not given in the provided text. The deductible is combined across several benefit categories.

üìù Chat history in memory:
Human: Fertility Medication Benefits annual deductible
Ai: Based on the information provided in the document, here are the key details about the annual deductible for Fertility Medication Benefits:

For Option 1:
- There is no annual deductible for Fertility Medication Benefits.

For Option 2 and Option 3:
- The annual deductible applies before copayments for Fertility Medications.
- The annual deductible is combined with Medical, Mental Health/Substance Use Disorder, Prescription Drug and CarePlus benefits.
- The specific deductible amounts are not provided in the excerpts, but it states to "See the 'Benefits at a Glance' table in the medical and MH/SUD coverage section for amounts."    

So in summary:
- No deductible for Option 1
- Annual deductible applies for Options 2 and 3, but the specific amounts are not given in the provided text. The deductible is combined across several benefit categories.

--------------------------------------------------

You: Whats my annual out of pocket maximum?
Traceback (most recent call last):
  File "D:\Users\A1053499\Downloads\Langchain_code\app.py", line 74, in <module>
    result = runnable.invoke(
        {"question": user_input},
        config={"configurable": {"session_id": session_id}}
    )
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 5431, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 5431, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 3047, in invoke
    input_ = context.run(step.invoke, input_, config)
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 5431, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 4772, in invoke
    return self._call_with_config(
           ~~~~~~~~~~~~~~~~~~~~~~^
        self._invoke,
        ^^^^^^^^^^^^^
    ...<2 lines>...
        **kwargs,
        ^^^^^^^^^
    )
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 1940, in _call_with_config
    context.run(
    ~~~~~~~~~~~^
        call_func_with_variable_args,  # type: ignore[arg-type]
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        **kwargs,
        ^^^^^^^^^
    ),
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\config.py", line 428, in call_func_with_variable_args
    return func(input, **kwargs)  # type: ignore[call-arg]
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 4641, in _invoke
    output = output.invoke(
        input_,
    ...<4 lines>...
        ),
    )
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain_core\runnables\base.py", line 5431, in invoke
    return self.bound.invoke(
           ~~~~~~~~~~~~~~~~~^
        input,
        ^^^^^^
        self._merge_configs(config),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        **{**self.kwargs, **kwargs},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain\chains\base.py", line 167, in invoke
    raise e
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain\chains\base.py", line 157, in invoke
    self._call(inputs, run_manager=run_manager)
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain\chains\conversational_retrieval\base.py", line 146, in _call
    chat_history_str = get_chat_history(inputs["chat_history"])
  File "D:\Users\A1053499\Downloads\Langchain_code\langchain\Lib\site-packages\langchain\chains\conversational_retrieval\base.py", line 55, in _get_chat_history
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Unsupported chat history format: <class 'str'>. Full chat history: Human: Fertility Medication Benefits annual deductible
AI: Based on the information provided in the document, here are the key details about the annual deductible for Fertility Medication Benefits:

For Option 1:
- There is no annual deductible for Fertility Medication Benefits.

For Option 2 and Option 3:
- The annual deductible applies before copayments for Fertility Medications.
- The annual deductible is combined with Medical, Mental Health/Substance Use Disorder, Prescription Drug and CarePlus benefits.
- The specific deductible amounts are not provided in the excerpts, but it states to "See the 'Benefits at a Glance' table in the medical and MH/SUD coverage section for amounts."    

So in summary:
- No deductible for Option 1
- Annual deductible applies for Options 2 and 3, but the specific amounts are not given in the provided text. The deductible is combined across several benefit categories.
