// Restore text inputs / textareas properly
Object.keys(textMapping).forEach(function (id) {
  const key = textMapping[id];
  const stored = sessionStorage.getItem(key);
  const $el = $("#" + id);

  if ($el.length) {
    if (stored !== null) {
      $el.val(stored);

      // Apply correct visual class
      if (stored.trim() !== "") {
        $el.removeClass("emptyTextField").addClass("enteredTextField");
      } else {
        $el.removeClass("enteredTextField").addClass("emptyTextField");
      }
    }

    // Trigger input/keyup event to refresh any live listeners (char counters, etc.)
    $el.trigger("keyup");
    $el.trigger("change");
  }
});
