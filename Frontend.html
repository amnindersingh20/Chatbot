case 5:
  const inputs6 = $('input[id^="q5_"]');
  const checkedBoxes = inputs6.filter(':checked');
  const checkedCount = checkedBoxes.length;

  // Show message only if user selects MORE THAN 3 checkboxes
  if (checkedCount > 3) {
    $("#message").removeClass("d-none"); // show error
  } else {
    $("#message").addClass("d-none"); // hide error
  }

  // Enable Next button only when EXACTLY 3 checkboxes are selected
  if (checkedCount === 3) {
    $(".nextbutton").removeAttr("disabled").removeClass("disabled");
  } else {
    $(".nextbutton").attr("disabled", true).addClass("disabled");
  }

  // Store values in sessionStorage
  inputs6.each(function (i) {
    const key = "r" + (16 + i); // keep same index structure
    if ($(this).is(":checked")) {
      sessionStorage.setItem(key, $(this).val()); // store the value of checked checkbox
    } else {
      sessionStorage.setItem(key, "0"); // unchecked = 0
    }
  });

  // Debug (optional â€” remove in production)
  console.log(
    "Checked boxes:",
    checkedBoxes.map(function () { return $(this).val(); }).get(),
    "| Count:", checkedCount
  );

  break;
